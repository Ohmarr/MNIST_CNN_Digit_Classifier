<!DOCTYPE html>
<html lang='en'>
	<head>
		<meta charset='UTF-8'>
		<meta name='viewport' content='width=device-width, initial-scale=1.0'>
		<meta http-equiv='X-UA-Compatible' content='ie=edge'>
		<title>Integer Classifier Application</title>	
		<link rel='stylesheet' href='static/css/style.css'>
		<!-- <link rel='stylesheet' href='{{ url_for('static',filename='style.css') }}'> -->
	</head>
<body>
	<div class="container col-8">
		<div class="row col-8">
			<div class="col-8">
				<h1 id='mainTitle'>Handwritten Digit Recognition using 
					<span>Convolutional Neural Networks</span>
				</h1>
			</div>
		</div>
		<div class="row col-8">
			<div id='slideContainer'>
					<p>Drag the slider to change the line width.</p>
						<input type='range' min='1' max='25' value='10' id='myRange' />
					<p>Value: 
						<span id='sliderValue'></span>
					</p>
			</div>
				
			<div id='canvasContainer'>
					<canvas id='canvas'></canvas>
			</div>
		</div>
	</div>
	<div id="infoContainer" class="container col-8">
		<div class="row col-8">
				<input id='clearButton' type='button' value='Clear'>
		</div>
		<div class="row">
			<span id='instructions'>Write a number in the Canvas</span>
		</div>

		<div id="predictionRow" class="row col-8">
			<a href='#' class='predictButton'>
				<span> Predict </span>
			</a>			
		</div>
		<div class="row col-8">
			<h1 id='result'>
				<span> </span>
			</h1>
		</div>
	</div>
			
	<!-- ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––– -->
	<script src='static/js/jquery.min.js'></script>
	<script src='static/js/index.js'></script>
	<!-- <script src='{{ url_for('static',filename='index.js') }}'></script> -->
	<script type='text/javascript'>
	   	$('.predictButton').click(function()
		   {
			// var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
			var canvasObj = document.getElementById('canvas');
			var img = canvasObj.toDataURL();
			$.ajax(
				{
				type: 'POST',
				url: '/predict/',
				// url: $SCRIPT_ROOT + '/predict/',
				data: img,
				success: function(data)
				{
					$('#result').text(' Predicted Output: '+data);
					console.log(data)
					// console.log($SCRIPT_ROOT)
				}
				}
			);
		});  
	</script>
</body>
</html>
